"""spdlog library for Bazel"""

load("@rules_cc//cc:defs.bzl", "cc_library")

licenses(["notice"])  # MIT

package(default_visibility = ["//visibility:public"])

cc_library(
    name = "spdlog",
    srcs = glob(["src/**/*.cpp"]),
    hdrs = glob(["include/**/*.h"]),
    defines = [
        "SPDLOG_FMT_EXTERNAL",
        "SPDLOG_COMPILED_LIB",
    ],
    includes = ["include"],
    deps = ["@fmt"],
)

cc_library(
    name = "spdlog_hdrs",
    hdrs = glob(["include/**/*.h"]),
    defines = ["SPDLOG_FMT_EXTERNAL"],
    includes = ["include"],
    deps = ["@fmt"],
)
